<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Frequency domain feature calculation — calculate_feature_freq • rabc</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Frequency domain feature calculation — calculate_feature_freq" />
<meta property="og:description" content="calculate_feature_freq calculates accelerometer data into frequency domain
mathemetical features" />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rabc</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/rabc-vignette.html">rabc-vignette</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="http://github.com/YuHuiDeakin/rabc/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Frequency domain feature calculation</h1>
    <small class="dont-index">Source: <a href='http://github.com/YuHuiDeakin/rabc/blob/master/R/feature_calculation.R'><code>R/feature_calculation.R</code></a></small>
    <div class="hidden name"><code>calculate_feature_freq.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>calculate_feature_freq</code> calculates accelerometer data into frequency domain
mathemetical features</p>
    </div>

    <pre class="usage"><span class='fu'>calculate_feature_freq</span><span class='op'>(</span>df_raw <span class='op'>=</span> <span class='cn'>NULL</span>, <span class='va'>samp_freq</span>, axis_num <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>df_raw</th>
      <td><p>A data.frame or tibble contains raw accelerometer data. In this
version, it should be arranged as x,y,z,x,y,z,...,label for each row and all
rows should have the same length. For dual-axial accelerometer data, it should
be arranged as x,y,x,y,...,label. And for single-axial, it's arranged as x,x,...,
label.</p></td>
    </tr>
    <tr>
      <th>samp_freq</th>
      <td><p>A double scalar indicate sampling frequency of the accelerometer</p></td>
    </tr>
    <tr>
      <th>axis_num</th>
      <td><p>An integer scalar indicating number of axies in the dataset.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data.frame contains all caculated frequency domain features with 9
 variables (columns) named x_freqmain, y_freqmain, z_freqmain, x_freqamp,
 y_freqamp, z_freqamp, x_entropy, y_entropy, z_entropy. The cases (rows) in
 the returned data.frame equal to the cases of df_raw. For dual-axial accelerometer
 data, the returned data.frame will contain columns with prefix "x" and "y".
 For single-axis, the returned data.frame will contain columns with prefix "x".</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>In this function, basic frequency domain features were calculated including:
main frequency, main amplitude and frequency entropy. All these features act on
each accelerometer axis, denoted by x, y, z. The extraction of these features
rely on fast Fourier transform (FFT) of raw accelerometer data. Frequency entropy
here measures unpredictability of the signal. See
<a href='https://en.wikipedia.org/wiki/Entropy_(information_theory)'>https://en.wikipedia.org/wiki/Entropy_(information_theory)</a>
for more information.</p>
<p>It is recommended to input sorted acclerometer data by <code>order_acc</code>.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>whitestork_acc</span><span class='op'>)</span>
<span class='va'>whitestork_acc_sorted</span> <span class='op'>&lt;-</span> <span class='fu'><a href='order_acc.html'>order_acc</a></span><span class='op'>(</span><span class='va'>whitestork_acc</span><span class='op'>)</span>
<span class='va'>df_freq</span> <span class='op'>&lt;-</span> <span class='fu'>calculate_feature_freq</span><span class='op'>(</span>df_raw <span class='op'>=</span> <span class='va'>whitestork_acc_sorted</span>, samp_freq <span class='op'>=</span> <span class='fl'>10.54</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: Suggestion: transform raw data into 1g = 9.8 m/s2 for consistency</span></div><div class='input'><span class='va'>df_freq_1d</span> <span class='op'>&lt;-</span> <span class='fu'>calculate_feature_freq</span><span class='op'>(</span>df_raw <span class='op'>=</span> <span class='va'>whitestork_acc_sorted</span><span class='op'>[</span>, <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>3</span>, <span class='fl'>121</span>, by <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span><span class='op'>]</span>,
                         samp_freq <span class='op'>=</span> <span class='fl'>10.54</span>, axis_num <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span> <span class='co'>#example for single-axial ACC</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: This function expect the input data sorted by function order_acc.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Suggestion: transform raw data into 1g = 9.8 m/s2 for consistency</span></div><div class='input'><span class='va'>df_freq_2d</span> <span class='op'>&lt;-</span> <span class='fu'>calculate_feature_freq</span><span class='op'>(</span>df_raw <span class='op'>=</span> <span class='va'>whitestork_acc_sorted</span><span class='op'>[</span>, <span class='op'>-</span><span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>120</span>, by <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span><span class='op'>]</span>,
                         samp_freq <span class='op'>=</span> <span class='fl'>10.54</span>, axis_num <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span> <span class='co'>#example for dual-axial ACC</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: Suggestion: transform raw data into 1g = 9.8 m/s2 for consistency</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Hui Yu.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


